import{S as P,N as pe,i as m,A as ge,a as T}from"./assets/vendor-BHbBlzG1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".feedback-section").forEach(t=>{const o=t.querySelector(".feedback-swiper"),n=t.querySelector(".feedback-custom-button-next"),r=t.querySelector(".feedback-custom-button-prev"),s=t.querySelector(".feedback-swiper-pagination");if(!o)return;const i=new P(o,{loop:!1,observer:!0,observeParents:!0,navigation:{nextEl:n||null,prevEl:r||null},keyboard:{enabled:!0,onlyInViewport:!0},simulateTouch:!0,slidesPerView:1,spaceBetween:24,pagination:{el:s||null,clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});i.update();function l(){r&&(i.isBeginning?r.classList.remove("active-swiper-btn"):r.classList.add("active-swiper-btn")),n&&(i.isEnd?n.classList.remove("active-swiper-btn"):n.classList.add("active-swiper-btn"))}l(),i.on("slideChange",()=>{l()}),window.addEventListener("resize",()=>{i.update(),l()})})});const fe=document.querySelector("[data-header-menu-open]"),ye=document.querySelector("[data-header-menu-close]"),C=document.querySelector("[data-header-menu]"),he=C.querySelectorAll('a[href^="#"]');let N=0;function be(){N=window.scrollY||document.documentElement.scrollTop,document.documentElement.style.setProperty("--scroll-y",`-${N}px`),document.documentElement.classList.add("no-scroll"),document.body.classList.add("no-scroll")}function te(){document.documentElement.classList.remove("no-scroll"),document.body.classList.remove("no-scroll"),window.scrollTo(0,N)}function oe(){C.classList.toggle("is-open")?be():te()}fe.addEventListener("click",oe);ye.addEventListener("click",oe);he.forEach(e=>{e.addEventListener("click",()=>{C.classList.contains("is-open")&&(C.classList.remove("is-open"),te())})});P.use([pe]);const ne=document.querySelector(".hero-btn-slide-prev"),re=document.querySelector(".hero-btn-slide-next"),Y=new P(".hero-swiper",{slidesPerView:1,spaceBetween:16,loop:!1,navigation:{nextEl:".hero-btn-slide-next",prevEl:".hero-btn-slide-prev"},keyboard:{enabled:!0,onlyInViewport:!0},on:{slideChange:()=>{const{isBeginning:e,isEnd:t}=Y;ne.disabled=e,re.disabled=t}}});ne.disabled=Y.isBeginning;re.disabled=Y.isEnd;const we="modulepreload",ve=function(e){return"/js_dreamers/"+e},K={},Le=function(t,o,n){let r=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(o.map(y=>{if(y=ve(y),y in K)return;K[y]=!0;const S=y.endsWith(".css"),de=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${de}`))return;const h=document.createElement("link");if(h.rel=S?"stylesheet":we,S||(h.as="script"),h.crossOrigin="",h.href=y,l&&h.setAttribute("nonce",l),document.head.appendChild(h),S)return new Promise((ue,me)=>{h.addEventListener("load",ue),h.addEventListener("error",()=>me(new Error(`Unable to preload CSS for ${y}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return r.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},d={backdrop:document.getElementById("cart-modal-backdrop"),list:document.getElementById("cart-items-list"),total:document.getElementById("cart-total-price"),openBtn:document.getElementById("open-cart-btn"),closeBtn:document.getElementById("cart-close-btn"),buyBtn:document.getElementById("cart-buy-btn"),countBadge:document.getElementById("cart-count-badge")};function E(){return JSON.parse(localStorage.getItem("cart"))||[]}function se(e){localStorage.setItem("cart",JSON.stringify(e))}function F(e,t=1,o=!1){if(!e||!t)return;const n=ae(e);if(!n){console.error("Book has no stable id ‚Äì cannot add to cart");return}const r=E(),s=r.find(i=>i.id===n);s?s.qty+=t:r.push({id:n,title:e.title,author:e.author,price:e.price,image:e.book_image||e.image||"",qty:t}),se(r),m.success({title:"üõí",message:"–î–æ–¥–∞–Ω–æ –¥–æ –∫–æ—Ä–∑–∏–Ω–∏!",backgroundColor:"#198754",titleColor:"#fff",messageColor:"#fff",position:"bottomRight"}),$(),B(),o&&U()}function ke(e){const t=E().filter(o=>String(o.id)!==String(e));se(t),$(),B()}function x(e){return`$${(+e).toFixed(2)}`}function $(){if(!d.list)return;const e=E();d.list.innerHTML="";let t=0;if(e.length===0)d.list.innerHTML="<li>Your cart is empty.</li>";else for(const o of e){const n=+o.price*o.qty;t+=n;const r=document.createElement("li");r.innerHTML=`
        <div class="cart-item">
          <img class="cart-item-image" src="${o.image}" alt="${o.title}" />
          <div class="cart-item-info">
            <strong>${o.title}</strong><br />
            <small>by ${o.author}</small><br />
            Price: ${x(o.price)} √ó ${o.qty} = ${x(n)}<br />
            <button class="remove-from-cart-btn" data-id="${o.id}">Remove</button>
          </div>
        </div>`,d.list.appendChild(r)}d.total.textContent=x(t),d.list.querySelectorAll(".remove-from-cart-btn").forEach(o=>{o.onclick=n=>{n.stopPropagation(),ke(o.dataset.id)}})}function B(){if(!d.countBadge)return;const t=E().reduce((o,n)=>o+n.qty,0);d.countBadge.textContent=t>0?t:""}function U(){$(),d.backdrop.classList.remove("hidden")}function V(){d.backdrop.classList.add("hidden")}d.openBtn&&(d.openBtn.onclick=U);d.closeBtn&&(d.closeBtn.onclick=V);d.backdrop&&d.backdrop.addEventListener("click",e=>{e.target===d.backdrop&&V()});d.buyBtn&&(d.buyBtn.onclick=()=>{if(E().length===0){m.warning({title:"üòï",message:"–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π!",position:"topRight"});return}localStorage.removeItem("cart"),$(),B(),V(),m.success({title:"‚úÖ",message:"–î—è–∫—É—î–º–æ –∑–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è! –ú–∏ –∑ –≤–∞–º–∏ –∑–≤‚Äô—è–∂–µ–º–æ—Å—è –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º.",position:"center",timeout:5e3,backgroundColor:"#28a745",titleColor:"#fff",messageColor:"#fff"})});window.openCart=U;window.addToCart=F;window.updateCartBadge=B;B();const c={backdrop:document.getElementById("books-modal-backdrop"),modal:document.getElementById("books-modal"),modalClose:document.getElementById("books-modal-close"),qtyInput:document.getElementById("books-qty-input"),qtyDec:document.getElementById("books-qty-dec"),qtyInc:document.getElementById("books-qty-inc"),addToCart:document.getElementById("books-add-to-cart"),modalForm:document.getElementById("books-modal-form"),detailsTxt:document.getElementById("books-details-text"),shippingTxt:document.getElementById("books-shipping-text"),returnsTxt:document.getElementById("books-returns-text"),modalImage:document.getElementById("books-modal-image"),modalTitle:document.getElementById("books-modal-title"),modalAuthor:document.getElementById("books-modal-author"),modalPrice:document.getElementById("books-modal-price")};let k=null,R=0;const Ee="We ship across the Ukraine within 2‚Äì5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.",Be="You can return an item within 14 days of receiving your order, provided it hasn‚Äôt been used and is in its original condition. To start a return, please contact our support team ‚Äî we‚Äôll guide you through the process quickly and hassle-free.";let b=null;function ie(){document.querySelectorAll(".accordion-container .ac").forEach(e=>{e.classList.remove("is-active")}),document.querySelectorAll(".accordion-container .ac-panel").forEach(e=>{e.style.maxHeight=""}),document.querySelectorAll(".accordion-container .ac-trigger").forEach(e=>{e.setAttribute("aria-expanded","false"),e.classList.remove("is-active")})}function Se(e){var t,o,n;c.modalImage.src=e.book_image||e.image||"",c.modalTitle.textContent=e.title||"",c.modalAuthor.textContent=e.author||"",c.modalPrice.textContent=e.price||"",c.detailsTxt.textContent=((t=e.description)==null?void 0:t.trim())||"No details available",c.shippingTxt.textContent=((o=e.shipping)==null?void 0:o.trim())||Ee,c.returnsTxt.textContent=((n=e.returns)==null?void 0:n.trim())||Be,c.qtyInput.value=1}function Ie(e){const t=localStorage.getItem(`book-${e}`);t&&(k=JSON.parse(t),c.modal.dataset.bookId=e,Se(k),b&&b.destroy(),ie(),b=new ge(".accordion-container",{duration:200,showMultiple:!0}),R=window.scrollY,document.body.style.position="fixed",document.body.style.top=`-${R}px`,document.body.style.left="0",document.body.style.right="0",c.backdrop.classList.add("books-modal-backdrop--visible"),document.body.classList.add("no-scroll"))}function I(){c.backdrop.classList.remove("books-modal-backdrop--visible"),document.body.classList.remove("no-scroll"),document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",window.scrollTo(0,R),b&&(b.closeAll(),b.destroy(),b=null),ie(),k=null,c.qtyInput.value=1}function Ce(){c.modalClose.onclick=I,c.backdrop.addEventListener("click",e=>{c.modal.contains(e.target)||I()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&I()}),c.qtyDec.onclick=()=>{c.qtyInput.value=Math.max(1,+c.qtyInput.value-1)},c.qtyInc.onclick=()=>{c.qtyInput.value=+c.qtyInput.value+1},c.addToCart.onclick=()=>{if(!k){m.error({title:"‚ùå",message:"–ö–Ω–∏–≥–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞",position:"topRight"});return}F(k,+c.qtyInput.value)},c.modalForm.onsubmit=e=>{e.preventDefault();const t=+c.qtyInput.value,o=c.modal.dataset.bookId,n=localStorage.getItem(`book-${o}`);if(!n)return;const r=JSON.parse(n);F(r,t,!0)}}Ce();const qe=Object.freeze(Object.defineProperty({__proto__:null,closeModal:I,openModal:Ie},Symbol.toStringTag,{value:"Module"})),j="https://books-backend.p.goit.global/books",Pe="https://api.nytimes.com/svc/books/v3",Te="WqGJfDWbfA6D4AGnrBC6GVU24SNqwSMn",a={counter:document.querySelector(".books-count"),categoryDropdown:document.querySelector(".category-dropdown"),dropdownBtn:document.querySelector(".category-dropdown-btn"),dropdownList:document.querySelector(".dropdown-list"),categoryDropdownLabel:document.querySelector(".category-dropdown-label"),categoryList:document.querySelector(".category-list"),booksList:document.querySelector(".books-list"),showMoreBtn:document.querySelector(".pagination-btn"),loader:document.querySelector(".inline-loader")};let p=0,f=[];const $e=4;let M=[],g="All categories",L=0;const q=new Map;async function Ae(){try{const{data:e}=await T.get(`${Pe}/lists/overview.json`,{params:{"api-key":Te}});return e.results.lists.flatMap(o=>o.books)}catch(e){return console.error("NYT Overview Error:",e.message),[]}}async function xe(){A();const e=await Ae(),t=G(e);await W(t),w()}function J(e,t=4.9,o=25){(typeof e!="string"||!e.length)&&(e="default-id");const n=.1,r=Math.floor((o-t)/n)+1;let s=0;for(let l=0;l<e.length;l++)s=e.charCodeAt(l)+((s<<5)-s);const i=Math.abs(s)%r;return(t+i*n).toFixed(2)}function ae(e){var s,i;const t=((s=e.title)==null?void 0:s.trim())||"",o=((i=e.author)==null?void 0:i.trim())||"",n=e.primary_isbn13||e.primary_isbn10||"",r=e._id||n||`${t}|${o}`;return r||(console.warn("Book has no valid ID fallback, generating hash"),btoa(`${t}-${o}`).slice(0,12))}function Me(e){const t=ae(e);if(!t)return;const o={...e,price:J(t)};return q.set(t,o),localStorage.getItem(`book-${t}`)||localStorage.setItem(`book-${t}`,JSON.stringify(o)),o}function D(){return window.innerWidth<768?10:24}async function _e(){try{const{data:e}=await T.get(`${j}/category-list`),t=e.map(r=>r.list_name),o=await Promise.all(t.map(r=>ce(r)));return["NYT Bestsellers","All categories",...t.filter((r,s)=>o[s].length>0)]}catch{return m.error({message:"Failed to load categories"}),[]}}function Oe(e){a.dropdownList.innerHTML=e.map(t=>`<li class="dropdown-item" data-category="${t}">${t}</li>`).join("")}function Ne(e){a.categoryList.innerHTML=e.map(t=>`<li class="category-item"><button class="category-btn" data-category="${t}">${t}</button></li>`).join("")}function _(e){document.querySelectorAll(".category-btn").forEach(t=>{t.classList.toggle("active",t.dataset.category===e)}),document.querySelectorAll(".dropdown-item").forEach(t=>{t.classList.toggle("active",t.dataset.category===e)})}async function W(e){L=D(),p=0,f=e;const t=e.slice(0,L);t.forEach(o=>{var s;const n=o._id||o.primary_isbn13||((s=o.title)==null?void 0:s.trim());if(!n)return;if(!q.get(n)){const i={...o,price:J(n)};q.set(n,i),localStorage.getItem(`book-${n}`)||localStorage.setItem(`book-${n}`,JSON.stringify(i))}}),z(t),p=t.length,Z(p,e.length),p<f.length?a.showMoreBtn.classList.remove("hidden"):a.showMoreBtn.classList.add("hidden")}function z(e,{append:t=!1}={}){const o=e.map(n=>{const r=n._id||n.primary_isbn13||n.title||"default-id",s=q.get(r),i=(s==null?void 0:s.price)||J(r);return`
      <li class="book-card">
        <img src="${n.book_image}" alt="${n.title}" width="340" height="484" loading="lazy"/>
        <div class="book-card-elements-wrapper">
          <div class="book-card-title-wrapper">
            <h4>${n.title}</h4>
            <p>${n.author}</p>
          </div>
          <p>${i} $</p>
        </div>
        <button class="learn-more-btn" data-id="${r}">Learn More</button>
      </li>
    `}).join("");if(t){const n=document.createRange().createContextualFragment(o);a.booksList.appendChild(n);const r=Array.from(a.booksList.children).slice(-e.length);requestAnimationFrame(()=>{r.forEach((s,i)=>{setTimeout(()=>s.classList.add("animate-in"),i*40)}),w()})}else{a.booksList.innerHTML=o;const n=a.booksList.querySelectorAll(".book-card");requestAnimationFrame(()=>{n.forEach((r,s)=>{setTimeout(()=>r.classList.add("animate-in"),s*40)}),w()})}}function G(e){const t=new Set;return e.filter(o=>{var r,s;const n=`${(r=o.author)==null?void 0:r.trim().toLowerCase()}||${(s=o.title)==null?void 0:s.trim().toLowerCase()}`;return t.has(n)?!1:(t.add(n),!0)})}async function ce(e){if(!e||e.trim()==="")return[];try{const{data:t}=await T.get(`${j}/category?category=${e}`);return t}catch{return m.error({message:"Failed to load books by category"}),[]}}async function le(){try{const{data:e}=await T.get(`${j}/top-books`);return e.flatMap(t=>t.books)}catch{return m.error({message:"Failed to load trending books"}),[]}}function Q(e){if(!e||!e.length)return;window.innerWidth<1440?(Oe(e),a.categoryList.innerHTML="",a.categoryDropdown.classList.remove("hidden"),a.categoryList.classList.add("hidden")):(Ne(e),a.dropdownList.innerHTML="",a.categoryDropdown.classList.add("hidden"),a.categoryList.classList.remove("hidden"))}function Z(e,t){a.counter.textContent=`Showing ${e} of ${t}`}async function Fe(){A();const e=f.slice(p,p+$e);e.forEach(t=>{Me(t)}),z(e,{append:!0}),p+=e.length,Z(p,f.length),await De(a.booksList),w(),p>=f.length&&a.showMoreBtn.classList.add("hidden")}async function Re(){A();const e=await le(),t=G(e);await W(t),w()}async function X(e){if(A(),g=e,e==="NYT Bestsellers"){await xe(),w();return}let t=[];e==="All categories"?t=await le():t=await ce(e);const o=G(t);await W(o),w()}function A(){a.loader.classList.remove("hidden")}function w(){a.loader.classList.add("hidden")}function De(e){const t=e.querySelectorAll("img"),o=Array.from(t).map(n=>new Promise(r=>{n.complete?r():(n.addEventListener("load",r),n.addEventListener("error",r))}));return Promise.all(o)}async function He(){L=D(),M=await _e(),Q(M),window.innerWidth>=1440&&(g="All categories",_(g)),window.addEventListener("resize",()=>{const e=D(),t=e!==L;if(L=e,Q(M),t&&f.length){const o=f.slice(0,L);p=o.length,z(o),Z(p,f.length),a.showMoreBtn.classList.toggle("hidden",p>=f.length)}}),a.dropdownBtn.addEventListener("click",()=>{const e=a.dropdownList.classList.toggle("is-open");a.dropdownBtn.classList.toggle("open",e)}),a.dropdownList.addEventListener("click",e=>{const t=e.target.closest("li[data-category]");t&&(g=t.dataset.category,a.categoryDropdownLabel.textContent=g,X(g),_(g),a.dropdownList.classList.remove("is-open"),a.dropdownBtn.classList.remove("open"))}),a.categoryList.addEventListener("click",e=>{const t=e.target.closest("[data-category]");t&&(g=t.dataset.category,X(g),_(g))}),a.showMoreBtn.addEventListener("click",Fe),await Re(),document.addEventListener("click",e=>{const t=e.target.closest(".learn-more-btn");if(!t)return;const o=t.dataset.id;o&&Le(async()=>{const{openModal:n}=await Promise.resolve().then(()=>qe);return{openModal:n}},void 0).then(({openModal:n})=>{n(o)}).catch(n=>{console.log("Failed to open modal:",n)})}),document.addEventListener("click",e=>{a.dropdownBtn.contains(e.target)||a.dropdownList.contains(e.target)||(a.dropdownList.classList.remove("is-open"),a.dropdownBtn.classList.remove("open"))})}He();document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".event-section").forEach(t=>{const o=t.querySelector(".event-swiper"),n=t.querySelector(".event-custom-button-next"),r=t.querySelector(".event-custom-button-prev"),s=t.querySelector(".event-swiper-pagination");if(!o)return;const i=new P(o,{loop:!1,observer:!0,observeParents:!0,navigation:{nextEl:n||null,prevEl:r||null},keyboard:{enabled:!0,onlyInViewport:!0},simulateTouch:!0,slidesPerView:1,spaceBetween:24,pagination:{el:s||null,clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});i.update();function l(){r&&(i.isBeginning?r.classList.remove("active-swiper-btn"):r.classList.add("active-swiper-btn")),n&&(i.isEnd?n.classList.remove("active-swiper-btn"):n.classList.add("active-swiper-btn"))}l(),i.on("slideChange",()=>{l()}),window.addEventListener("resize",()=>{i.update(),l()})})});const u=document.getElementById("contact-modal"),ee=u==null?void 0:u.querySelector(".contact-modal-close"),v=document.getElementById("contact-modal-form"),O=u==null?void 0:u.querySelector(".contact-modal-subtitle"),Ye=document.querySelectorAll("[data-event-title]");if(!u||!ee||!v||!O)console.error("Contact Modal: One or more required elements are missing.");else{let e=function(){u.classList.add("is-hidden"),document.body.style.overflow="",v.reset(),O.textContent=""};Ye.forEach(t=>{t.addEventListener("click",()=>{const o=t.getAttribute("data-event-title")||"Event Registration";O.textContent=o,u.classList.remove("is-hidden"),document.body.style.overflow="hidden",u.querySelector('input[name="name"]').focus()})}),ee.addEventListener("click",e),u.addEventListener("click",t=>{t.target===u&&e()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&!u.classList.contains("is-hidden")&&e()}),v.addEventListener("submit",t=>{t.preventDefault();const o=v.elements.name.value.trim(),n=v.elements.email.value.trim(),r=v.elements.message.value.trim();if(!o||!n){m.error({title:"Error",message:"Please fill out all required fields.",position:"topRight"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){m.error({title:"Error",message:"Please enter a valid email address.",position:"topRight"});return}m.success({title:"Success",message:`Thank you, ${o}! Your message has been sent.`,position:"topRight"}),console.log("Name:",o,"Email:",n,"Message:",r),e()})}const H=document.querySelector(".footer-form"),Ue=document.querySelector("#user-email");H.addEventListener("submit",Ve);function Ve(e){e.preventDefault();const t=Ue.value.trim();if(!/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(t)){m.error({title:"Error",message:"Please enter a valid email address",position:"topRight"});return}let n=JSON.parse(localStorage.getItem("subscribers"))||[];if(n.includes(t)){m.warning({title:"Notice",message:"This email is already subscribed",position:"topRight"}),H.reset();return}n.push(t),localStorage.setItem("subscribers",JSON.stringify(n)),m.success({title:"Success",message:"Thank you for subscribing!",position:"topRight"}),H.reset()}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".scroll-up-btn");if(!e){console.error("Scroll Up Button not found.");return}window.addEventListener("scroll",()=>{window.scrollY>300?e.classList.remove("is-hidden"):e.classList.add("is-hidden")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle");localStorage.getItem("theme")==="dark"&&document.documentElement.classList.add("dark-theme"),e.addEventListener("click",()=>{const t=document.documentElement.classList.toggle("dark-theme");localStorage.setItem("theme",t?"dark":"light")})});
//# sourceMappingURL=index.js.map
